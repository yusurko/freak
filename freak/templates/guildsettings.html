{% extends "base.html" %}
{% from "macros/title.html" import title_tag with context %}
{% from "macros/create.html" import checked_if with context %}

{% block title %}{{ title_tag('Settings for ' + gu.handle()) }}{% endblock %}

{% block heading %}
<h1><span class="faint">Settings:</span> {{ gu.handle() }}</h1>
{% endblock %}

{% block content %}
<form method="POST">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
  <section class="card">
    <h2>Community Identity</h2>
    <div>
      <label>Display name:
      <input type="text" name="display_name" value="{{ gu.display_name or '' }}" />
      </label>
    </div>
    <div>
      <label>Description:
      <textarea name="description">{{ gu.description or '' }}</textarea>
      </label>
    </div>
    <div>
      <button type="submit" class="primary">Save</button>
    </div>
  </section>

  <section class="card">
    <h2>Safety</h2>
    <div>
      <label>
        <input type="checkbox" name="restricted" value="1" {{ checked_if(gu.is_restricted) }} />
        Allow only approved members to post and comment
      </label>
    </div>
    <div>
      <label>
        Ban user from participating in {{ gu.handle() }}:
        <input type="text" name="exile_name" placeholder="username" />
      </label>
      <label>
        <input type="checkbox" name="exile_reverse" value="1" />
        Remove ban on given user
      </label>
      <small class="faint">
        Bans (aka: exiles) are permanent and reversible.<br />
        Banned (exiled) users are not allowed to post or comment on {{ gu.handle() }}.<br />
        Reverse the ban by checking “Remove ban on given user”.
      </small>
    </div>
    <div>
      <button type="submit" class="primary">Save</button>
    </div>
  </section>
</form>
{% endblock %}
